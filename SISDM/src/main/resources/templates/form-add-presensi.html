<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Sistem Informasi Sumber Daya Manusia</title>
  <object th:include="fragments/navbar :: css" th:remove="tag"></object>
  <object th:include="fragments/navbar :: js" th:remove="tag"></object>
</head>
<body>
<!--Bootstrap Navbar-->
<nav th:replace="fragments/navbar :: navbar(${'presensi'})"></nav>
<br><br>

<div class="container">
  <h1 style="font-family: 'Comic Sans MS'">Tambah Presensi</h1>
  <br>
  <!--    Starting Form-->
  <form th:action="@{/presensi/tambah}" th:object="${presensi}" method="POST">
    <label for="namaKaryawan" style="font-family: 'Arial'"><b>Nama Karyawan</b></label>
    <select name="idSertifikat" id="namaKaryawan" class="form-control">
      <option th:each="karyawan : ${listKaryawan}" th:value="${karyawan}" th:text="${karyawan.a_namaDepanKaryawan} + ' ' + ${karyawan.b_namaBelakangKaryawan}"></option>
    </select>
    <br>
    <div class="form-group">
      <label for="tanggal-presensi" style="font-family: 'Arial'"><b>Tanggal</b></label>
      <input class="form-control" id="tanggal-presensi" type="date" th:field="*{tanggal}" placeholder="Tanggal Presensi"  required/>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for= "waktu-masuk" style="font-family: 'Arial'"><b>Waktu Masuk</b></label>
        <input type="datetime-local" class="form-control" id="waktu-masuk" placeholder="Email" th:field="*{u_waktuMasuk}" required>
      </div>
      <div class="form-group col-md-6">
        <label for="waktu-keluar" style="font-family: 'Arial'"><b>Waktu keluar</b></label>
        <input id="waktu-keluar" class="form-control" type="datetime-local" th:field="*{v_waktuKeluar}" required/>
      </div>
    </div>

<!--    Daftar Tugas-->
    <div class="form-row">
      <table class="table table-borderless">
        <thead>
        <th style="font-family: Arial">Daftar Tugas</th>
        </thead>
        <tbody>
        <tr th:each="tugas, iterationStatus : *{listTugas}">
          <td>
            <select th:field="*{listTugas[__${iterationStatus.index}__].idTugas}" class="form-control">
              <option th:each="tugasEx : ${listTugasExisting}" th:value="${tugasEx.idTugas}" th:text="${tugasEx.namaTugas}"></option>
            </select>
          </td>
          <td>
            <select th:field="*{listTugas[__${iterationStatus.index}__].status}" class="form-control">
              <option value="0">Dimulai</option>
              <option value="1">Dikerjakan</option>
              <option value="2">Selesai</option>
            </select>
          </td>
          <td>
          </td>
          <td><button name="deleteRow" th:value="${iterationStatus.index}" type="submit" class="btn btn-danger">HAPUS</button></td>
        </tr>
        <tr>
          <td><button name="addRow"  type="submit" class="form-control btn btn-success">+ Tambah Sertifikasi</button></td>
        </tr>
        </tbody>
      </table>
    </div>
    <br><br><br>
    <button name="save" type="submit" class="btn btn-danger">Simpan</button>
    <a class="btn btn-secondary" th:href="@{/presensi}">Batal</a>
  </form>
</div>

</body>
</html>